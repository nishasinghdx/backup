!function(e){e.extend(e.fn,{swapClass:function(e,a){var t=this.filter("."+e);return this.filter("."+a).removeClass(a).addClass(e),t.removeClass(e).addClass(a),this},replaceClass:function(e,a){return this.filter("."+e).removeClass(e).addClass(a).end()},hoverClass:function(a){return a=a||"hover",this.hover(function(){e(this).addClass(a)},function(){e(this).removeClass(a)})},heightToggle:function(e,a){e?this.animate({height:"toggle"},e,a):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),a&&a.apply(this,arguments)})},heightHide:function(e,a){e?this.animate({height:"hide"},e,a):(this.hide(),a&&this.each(a))},prepareBranches:function(e){return e.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((e.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(t,l){if(this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(a){this==a.target&&l.apply(e(this).next())}).add(e("a",this)).hoverClass(),!t.prerendered){this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable),this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable);var s=this.find("div."+a.hitarea);s.length||(s=this.prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea)),s.removeClass().addClass(a.hitarea).each(function(){var a="";e.each(e(this).parent().attr("class").split(" "),function(){a+=this+"-hitarea "}),e(this).addClass(a)})}this.find("div."+a.hitarea).click(l)},treeview:function(t){function l(t,l){function i(l){return function(){return s.apply(e("div."+a.hitarea,t).filter(function(){return l?e(this).parent("."+l).length:!0})),!1}}e("a:eq(0)",l).click(i(a.collapsable)),e("a:eq(1)",l).click(i(a.expandable)),e("a:eq(2)",l).click(i())}function s(){e(this).parent().find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightToggle(t.animated,t.toggle),t.unique&&e(this).parent().siblings().find(">.hitarea").replaceClass(a.collapsableHitarea,a.expandableHitarea).replaceClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().replaceClass(a.collapsable,a.expandable).replaceClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightHide(t.animated,t.toggle)}function i(){var a=[];o.each(function(t,l){a[t]=e(l).is(":has(>ul:visible)")?1:0}),e.cookie(t.cookieId,a.join(""),t.cookieOptions)}function n(){var a=e.cookie(t.cookieId);if(a){var l=a.split("");o.each(function(a,t){e(t).find(">ul")[parseInt(l[a])?"show":"hide"]()})}}if(t=e.extend({cookieId:"treeview"},t),t.toggle){var r=t.toggle;t.toggle=function(){return r.apply(e(this).parent()[0],arguments)}}this.data("toggler",s),this.addClass("treeview");var o=this.find("li").prepareBranches(t);switch(t.persist){case"cookie":var d=t.toggle;t.toggle=function(){i(),d&&d.apply(this,arguments)},n();break;case"location":var p=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});if(p.length){var c=p.addClass("selected").parents("ul, li").add(p.next()).show();t.prerendered&&c.filter("li").swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea)}}return o.applyClasses(t,s),t.control&&(l(this,t.control),e(t.control).show()),this}}),e.treeview={};var a=e.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}}(jQuery),jQuery.cookie=function(e,a,t){if("undefined"==typeof a){var l=null;if(document.cookie&&""!=document.cookie)for(var s=document.cookie.split(";"),i=0;i<s.length;i++){var n=jQuery.trim(s[i]);if(n.substring(0,e.length+1)==e+"="){l=decodeURIComponent(n.substring(e.length+1));break}}return l}t=t||{},null===a&&(a="",t.expires=-1);var r="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var o;"number"==typeof t.expires?(o=new Date,o.setTime(o.getTime()+24*t.expires*60*60*1e3)):o=t.expires,r="; expires="+o.toUTCString()}var d=t.path?"; path="+t.path:"",p=t.domain?"; domain="+t.domain:"",c=t.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(a),r,d,p,c].join("")},$(document).ready(function(){$("#browser").treeview(),$("#navigation").treeview({persist:"location",collapsed:!0,unique:!0}),$("#red").treeview({animated:"fast",collapsed:!0,unique:!0,persist:"cookie",toggle:function(){window.console&&console.log("%o was toggled",this)}}),$("#black, #gray").treeview({control:"#treecontrol",persist:"cookie",cookieId:"treeview-black"})});
